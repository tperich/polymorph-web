var ClassicalNoise=function(t){null==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];for(var i=0;i<256;i++)this.p[i]=Math.floor(256*t.random());this.perm=[];for(i=0;i<512;i++)this.perm[i]=this.p[255&i]};ClassicalNoise.prototype.dot=function(t,i,a,s){return t[0]*i+t[1]*a+t[2]*s},ClassicalNoise.prototype.mix=function(t,i,a){return(1-a)*t+a*i},ClassicalNoise.prototype.fade=function(t){return t*t*t*(t*(6*t-15)+10)},ClassicalNoise.prototype.noise=function(t,i,a){var s=Math.floor(t),e=Math.floor(i),r=Math.floor(a);t-=s,i-=e,a-=r,s&=255,e&=255,r&=255;var h=this.perm[s+this.perm[e+this.perm[r]]]%12,o=this.perm[s+this.perm[e+this.perm[r+1]]]%12,n=this.perm[s+this.perm[e+1+this.perm[r]]]%12,m=this.perm[s+this.perm[e+1+this.perm[r+1]]]%12,c=this.perm[s+1+this.perm[e+this.perm[r]]]%12,d=this.perm[s+1+this.perm[e+this.perm[r+1]]]%12,p=this.perm[s+1+this.perm[e+1+this.perm[r]]]%12,v=this.perm[s+1+this.perm[e+1+this.perm[r+1]]]%12,l=this.dot(this.grad3[h],t,i,a),u=this.dot(this.grad3[c],t-1,i,a),f=this.dot(this.grad3[n],t,i-1,a),x=this.dot(this.grad3[p],t-1,i-1,a),g=this.dot(this.grad3[o],t,i,a-1),C=this.dot(this.grad3[d],t-1,i,a-1),y=this.dot(this.grad3[m],t,i-1,a-1),w=this.dot(this.grad3[v],t-1,i-1,a-1),M=this.fade(t),b=this.fade(i),_=this.fade(a),H=this.mix(l,u,M),N=this.mix(g,C,M),W=this.mix(f,x,M),z=this.mix(y,w,M),A=this.mix(H,W,b),E=this.mix(N,z,b);return this.mix(A,E,_)};for(var canvasWidth,canvasHeight,start_y,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),perlin=new ClassicalNoise,variation=.003,amp=200,variators=[],max_lines=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?25:30,i=0,u=0;i<max_lines;i++,u+=.02)variators[i]=u;function draw(){ctx.shadowColor="rgba(43, 205, 255, 1)",ctx.shadowBlur=0;for(var t=0;t<=max_lines;t++){ctx.beginPath(),ctx.moveTo(0,start_y);for(var i=0;i<=canvasWidth;i++){var a=perlin.noise(i*variation+variators[t],i*variation,0);ctx.lineTo(i,start_y+amp*a)}Math.floor(150*Math.abs(a));var s=Math.min(Math.abs(a),.8)+.1;ctx.strokeStyle="rgba(80,210,240,"+s+")",ctx.stroke(),ctx.closePath(),variators[t]+=.005}}function animate(){ctx.clearRect(0,0,canvasWidth,canvasHeight),draw(),requestAnimationFrame(animate)}function resizeCanvas(){canvasWidth=document.documentElement.clientWidth,canvasHeight=document.documentElement.clientHeight,canvas.setAttribute("width",canvasWidth),canvas.setAttribute("height",canvasHeight),start_y=canvasHeight/2}resizeCanvas(),animate(),window.addEventListener("resize",resizeCanvas);